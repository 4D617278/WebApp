const browserStackConfig = require('./browserstack.config');

const date = new Date();
const dateForDisplay = date.toDateString();
const buildNameForDisplay = `${browserStackConfig.BUILD}: ${dateForDisplay}`;

exports.config = {
  user: browserStackConfig.BROWSERSTACK_USER,
  key: browserStackConfig.BROWSERSTACK_KEY,
  updateJob: false,
  specs: [
    './tests/browserstack/specs/readyMainTest.js',
  ],
  twitterUserName: browserStackConfig.TWITTER_USER_NAME,
  twitterPassword: browserStackConfig.TWITTER_PASSWORD,
  exclude: [],
  capabilities: [
    {
      name: 'readyMainTest-BrowserWindowsChrome80.0',
      build: buildNameForDisplay,
      os: 'Windows',
      os_version: '10',
      browserName: 'Chrome',
      browser_version: '80.0',
      real_mobile: false,
      acceptSslCerts: true,
      'browserstack.console': 'info',
      'browserstack.debug': true,
      'browserstack.appium_version': '%browserstack.appium_version0',
      'browserstack.local': false,
      'browser.geoLocation': 'US',
      isAndroid: false,
      isCordovaFromAppStore: false,
      isIOS: false,
      isMobileScreenSize: false,
    },
    {
      name: 'readyMainTest-BrowserWindowsChrome79.0',
      build: buildNameForDisplay,
      os: 'Windows',
      os_version: '8.1',
      browserName: 'Chrome',
      browser_version: '79.0',
      real_mobile: false,
      acceptSslCerts: true,
      'browserstack.console': 'info',
      'browserstack.debug': true,
      'browserstack.appium_version': '%browserstack.appium_version1',
      'browserstack.local': false,
      'browser.geoLocation': 'US',
      isAndroid: false,
      isCordovaFromAppStore: false,
      isIOS: false,
      isMobileScreenSize: false,
    },
    {
      name: 'readyMainTest-BrowserWindowsChrome81.0',
      build: buildNameForDisplay,
      os: 'Windows',
      os_version: '7',
      browserName: 'Chrome',
      browser_version: '81.0',
      real_mobile: false,
      acceptSslCerts: true,
      'browserstack.console': 'info',
      'browserstack.debug': true,
      'browserstack.appium_version': '%browserstack.appium_version2',
      'browserstack.local': false,
      'browser.geoLocation': 'US',
      isAndroid: false,
      isCordovaFromAppStore: false,
      isIOS: false,
      isMobileScreenSize: false,
    },
    {
      name: 'readyMainTest-BrowserOSXSafari13.0',
      build: buildNameForDisplay,
      os: 'OS X',
      os_version: 'Catalina',
      browserName: 'Safari',
      browser_version: '13.0',
      real_mobile: false,
      acceptSslCerts: true,
      'browserstack.console': 'info',
      'browserstack.debug': true,
      'browserstack.appium_version': '%browserstack.appium_version3',
      'browserstack.local': false,
      'browser.geoLocation': 'US',
      isAndroid: false,
      isCordovaFromAppStore: false,
      isIOS: false,
      isMobileScreenSize: false,
    },
    {
      name: 'readyMainTest-BrowserOSXChrome70.0',
      build: buildNameForDisplay,
      os: 'OS X',
      os_version: 'Mojave',
      browserName: 'Chrome',
      browser_version: '70.0',
      real_mobile: false,
      acceptSslCerts: true,
      'browserstack.console': 'info',
      'browserstack.debug': true,
      'browserstack.appium_version': '%browserstack.appium_version4',
      'browserstack.local': false,
      'browser.geoLocation': 'US',
      isAndroid: false,
      isCordovaFromAppStore: false,
      isIOS: false,
      isMobileScreenSize: false,
    },
  ],
  baseUrl: browserStackConfig.WEB_APP_ROOT_URL,
  waitforTimeout: 180000,
  connectionRetryTimeout: 90000,
  connectionRetryCount: 3,

  framework: 'mocha',
  mochaOpts: {
    ui: 'bdd',
    timeout: 360000,
  },
}
